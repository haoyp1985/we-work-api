import{n as e,bU as a,a8 as s,r as l,aY as r,y as o,z as t,A as n,bV as i,S as d,L as u,ak as m,u as c,bW as p,bX as g,K as v,a1 as f,a2 as b,P as y,a5 as _}from"./vue-vendor-C8mxq32R.js";import{_ as k}from"./logo-Ft4BtHHg.js";import{u as h,_ as x}from"./index-DfjBAFcn.js";import{a as w}from"./element-plus-F2F34IhK.js";import"./vendor-B8QV_ZHR.js";import"./network-C5DcNM9U.js";const V={class:"login-container"},W={class:"login-card"},j={class:"login-options"},P={key:0},M={key:1},z={class:"register-link"},C=x(e({__name:"Login",setup(e){const x=a(),C=h(),U=s({username:"",password:"",rememberMe:!1}),q={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:3,max:20,message:"用户名长度在 3 到 20 个字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{min:6,max:50,message:"密码长度在 6 到 50 个字符",trigger:"blur"}]},K=l(!1),A=l(!1),L=l(),R=()=>{A.value=!A.value},S=()=>{return e=this,a=null,s=function*(){if(L.value)try{yield L.value.validate(),K.value=!0;const e={username:U.username,password:U.password,rememberMe:U.rememberMe};yield C.login(e),w.success("登录成功");const a=x.currentRoute.value.query.redirect;x.push(a||"/dashboard")}catch(e){}finally{K.value=!1}},new Promise((l,r)=>{var o=e=>{try{n(s.next(e))}catch(a){r(a)}},t=e=>{try{n(s.throw(e))}catch(a){r(a)}},n=e=>e.done?l(e.value):Promise.resolve(e.value).then(o,t);n((s=s.apply(e,a)).next())});var e,a,s},F=()=>{w.info("忘记密码功能开发中")},I=()=>{w.info("注册功能开发中")};return(e,a)=>{const s=r("el-input"),l=r("el-form-item"),h=r("el-icon"),x=r("el-checkbox"),w=r("el-button"),C=r("el-form");return t(),o("div",V,[a[9]||(a[9]=n("div",{class:"login-background"},[n("div",{class:"bg-overlay"}),n("div",{class:"bg-pattern"})],-1)),n("div",W,[a[7]||(a[7]=i('<div class="login-header" data-v-bf5007c6><div class="logo" data-v-bf5007c6><img src="'+k+'" alt="WeWork Platform" class="logo-image" data-v-bf5007c6><h1 class="logo-text" data-v-bf5007c6>WeWork Platform</h1></div><p class="login-subtitle" data-v-bf5007c6>企业工作协作平台</p></div>',1)),d(C,{ref_key:"loginFormRef",ref:L,model:U,rules:q,class:"login-form",onSubmit:_(S,["prevent"])},{default:u(()=>[d(l,{prop:"username"},{default:u(()=>[d(s,{modelValue:U.username,"onUpdate:modelValue":a[0]||(a[0]=e=>U.username=e),size:"large",placeholder:"请输入用户名",clearable:"","prefix-icon":c(p),onKeyup:m(S,["enter"])},null,8,["modelValue","prefix-icon"])]),_:1}),d(l,{prop:"password"},{default:u(()=>[d(s,{modelValue:U.password,"onUpdate:modelValue":a[1]||(a[1]=e=>U.password=e),type:A.value?"text":"password",size:"large",placeholder:"请输入密码","show-password":"","prefix-icon":c(g),onKeyup:m(S,["enter"])},{suffix:u(()=>[d(h,{class:"password-toggle",onClick:R},{default:u(()=>[A.value?(t(),v(c(f),{key:0})):(t(),v(c(b),{key:1}))]),_:1})]),_:1},8,["modelValue","type","prefix-icon"])]),_:1}),n("div",j,[d(x,{modelValue:U.rememberMe,"onUpdate:modelValue":a[2]||(a[2]=e=>U.rememberMe=e)},{default:u(()=>a[3]||(a[3]=[y(" 记住我 ",-1)])),_:1,__:[3]},8,["modelValue"]),d(w,{type:"text",onClick:F},{default:u(()=>a[4]||(a[4]=[y(" 忘记密码？ ",-1)])),_:1,__:[4]})]),d(w,{type:"primary",size:"large",class:"login-button",loading:K.value,onClick:S},{default:u(()=>[K.value?(t(),o("span",M,"登录中...")):(t(),o("span",P,"登录"))]),_:1},8,["loading"]),n("div",z,[a[6]||(a[6]=n("span",null,"还没有账号？",-1)),d(w,{type:"text",onClick:I},{default:u(()=>a[5]||(a[5]=[y(" 立即注册 ",-1)])),_:1,__:[5]})])]),_:1},8,["model"]),a[8]||(a[8]=n("div",{class:"login-footer"},[n("p",null,"© 2024 WeWork Platform. All rights reserved.")],-1))])])}}}),[["__scopeId","data-v-bf5007c6"]]);export{C as default};
