import{n as e,bU as t,bY as a,bZ as s,r as l,c as n,aY as u,y as i,z as r,A as d,S as o,L as c,K as f,u as m,b_ as _,b$ as p,R as g,an as h,ak as v,bB as b,c0 as x,b1 as y,c1 as W,c2 as k,c3 as w,Q as j,aI as z,P as C,bW as I,c4 as O,M as P,V,N as A,c5 as B,c6 as L,b8 as S,c7 as q,bD as E,c8 as F,c9 as K,ca as T,cb as U,cc as Y,cd as $,bX as D,ce as H,cf as M,W as N,O as Q}from"./vue-vendor-C8mxq32R.js";import{a as R,u as X,_ as Z}from"./index-DfjBAFcn.js";import{a as G,b as J}from"./element-plus-F2F34IhK.js";import{_ as ee}from"./logo-Ft4BtHHg.js";import"./vendor-B8QV_ZHR.js";import"./network-C5DcNM9U.js";const te={class:"app-header"},ae={class:"header-left"},se={class:"header-right"},le={class:"header-search"},ne={class:"user-avatar"},ue={class:"username"},ie=Z(e({__name:"AppHeader",setup(e){const P=t(),V=a(),A=R(),B=X(),{sidebarOpened:L}=s(A),S=l(""),q=l(5),E=l(!1),F=n(()=>{const e=V.matched.filter(e=>e.meta&&e.meta.title).map(e=>{var t;return{title:null==(t=e.meta)?void 0:t.title,path:e.path}});return e.length>0&&"/"!==e[0].path&&e.unshift({title:"首页",path:"/"}),e}),K=()=>{A.toggleSidebar()},T=()=>{S.value.trim()&&G.info(`搜索功能开发中：${S.value}`)},U=()=>{G.info("通知功能开发中")},Y=()=>{document.fullscreenElement?(document.exitFullscreen(),E.value=!1):(document.documentElement.requestFullscreen(),E.value=!0)},$=()=>{G.info("设置功能开发中")},D=e=>{switch(e){case"profile":G.info("个人资料功能开发中");break;case"settings":G.info("账户设置功能开发中");break;case"logout":H()}},H=()=>{return e=this,t=null,a=function*(){try{yield J.confirm("确定要退出登录吗？","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}),yield B.userLogout(),G.success("退出登录成功"),P.push("/login")}catch(e){}},new Promise((s,l)=>{var n=e=>{try{i(a.next(e))}catch(t){l(t)}},u=e=>{try{i(a.throw(e))}catch(t){l(t)}},i=e=>e.done?s(e.value):Promise.resolve(e.value).then(n,u);i((a=a.apply(e,t)).next())});var e,t,a};return(e,t)=>{const a=u("el-icon"),s=u("el-button"),l=u("el-breadcrumb-item"),n=u("el-breadcrumb"),P=u("el-input"),V=u("el-badge"),A=u("el-avatar"),H=u("el-dropdown-item"),M=u("el-dropdown-menu"),N=u("el-dropdown");return r(),i("div",te,[d("div",ae,[o(s,{type:"text",size:"large",class:"sidebar-toggle",onClick:K},{default:c(()=>[o(a,null,{default:c(()=>[m(L)?(r(),f(m(_),{key:0})):(r(),f(m(p),{key:1}))]),_:1})]),_:1}),o(n,{class:"breadcrumb",separator:"/"},{default:c(()=>[(r(!0),i(g,null,h(F.value,e=>(r(),f(l,{key:e.path,to:e.path},{default:c(()=>[C(j(e.title),1)]),_:2},1032,["to"]))),128))]),_:1})]),d("div",se,[d("div",le,[o(P,{modelValue:S.value,"onUpdate:modelValue":t[0]||(t[0]=e=>S.value=e),placeholder:"搜索功能...",class:"search-input",clearable:"",onKeyup:v(T,["enter"])},{prefix:c(()=>[o(a,null,{default:c(()=>[o(m(b))]),_:1})]),_:1},8,["modelValue"])]),o(V,{value:q.value,hidden:0===q.value,class:"notification-badge"},{default:c(()=>[o(s,{type:"text",size:"large",onClick:U},{default:c(()=>[o(a,null,{default:c(()=>[o(m(x))]),_:1})]),_:1})]),_:1},8,["value","hidden"]),o(s,{type:"text",size:"large",onClick:Y},{default:c(()=>[o(a,null,{default:c(()=>[E.value?(r(),f(m(W),{key:1})):(r(),f(m(y),{key:0}))]),_:1})]),_:1}),o(s,{type:"text",size:"large",onClick:$},{default:c(()=>[o(a,null,{default:c(()=>[o(m(k))]),_:1})]),_:1}),o(N,{onCommand:D},{dropdown:c(()=>[o(M,null,{default:c(()=>[o(H,{command:"profile"},{default:c(()=>[o(a,null,{default:c(()=>[o(m(I))]),_:1}),t[1]||(t[1]=C(" 个人资料 ",-1))]),_:1,__:[1]}),o(H,{command:"settings"},{default:c(()=>[o(a,null,{default:c(()=>[o(m(k))]),_:1}),t[2]||(t[2]=C(" 账户设置 ",-1))]),_:1,__:[2]}),o(H,{divided:"",command:"logout"},{default:c(()=>[o(a,null,{default:c(()=>[o(m(O))]),_:1}),t[3]||(t[3]=C(" 退出登录 ",-1))]),_:1,__:[3]})]),_:1})]),default:c(()=>{var e,t;return[d("div",ne,[o(A,{size:36,src:null==(e=m(B).userInfo)?void 0:e.avatar,icon:m(w)},null,8,["src","icon"]),d("span",ue,j((null==(t=m(B).userInfo)?void 0:t.nickname)||"用户"),1),o(a,{class:"arrow-down"},{default:c(()=>[o(m(z))]),_:1})])]}),_:1})])])}}}),[["__scopeId","data-v-9e02c7e8"]]),re={class:"app-sidebar"},de={class:"sidebar-logo"},oe={class:"logo-title"},ce=Z(e({__name:"AppSidebar",setup(e){const t=a(),l=R(),_=X(),{sidebarOpened:p}=s(l),g=n(()=>{const{path:e}=t;if("/"===e)return"/";if(e.startsWith("/accounts")){if("/accounts"===e)return"/accounts";if(e.startsWith("/accounts/create"))return"/accounts/create";if(e.startsWith("/accounts/settings"))return"/accounts/settings"}if(e.startsWith("/messages")){if("/messages"===e)return"/messages";if(e.startsWith("/messages/send"))return"/messages/send";if(e.startsWith("/messages/templates"))return"/messages/templates";if(e.startsWith("/messages/statistics"))return"/messages/statistics"}if(e.startsWith("/monitor")){if(e.startsWith("/monitor/dashboard"))return"/monitor/dashboard";if(e.startsWith("/monitor/logs"))return"/monitor/logs";if(e.startsWith("/monitor/alerts"))return"/monitor/alerts";if(e.startsWith("/monitor/performance"))return"/monitor/performance"}if(e.startsWith("/users")){if("/users"===e)return"/users";if(e.startsWith("/users/roles"))return"/users/roles";if(e.startsWith("/users/permissions"))return"/users/permissions"}if(e.startsWith("/settings")){if(e.startsWith("/settings/general"))return"/settings/general";if(e.startsWith("/settings/security"))return"/settings/security";if(e.startsWith("/settings/backup"))return"/settings/backup"}return e}),h=n(()=>_.roles.includes("admin")||_.roles.includes("super_admin"));return(e,t)=>{const a=u("el-icon"),s=u("el-menu-item"),l=u("el-sub-menu"),n=u("el-menu");return r(),i("div",re,[d("div",de,[t[0]||(t[0]=d("img",{src:ee,alt:"Logo",class:"logo-image"},null,-1)),P(d("h2",oe," WeWork Platform ",512),[[V,m(p)]])]),o(n,{"default-active":g.value,collapse:!m(p),"unique-opened":!1,class:"sidebar-menu","background-color":"#001529","text-color":"#ffffff","active-text-color":"#1890ff",router:""},{default:c(()=>[o(s,{index:"/"},{title:c(()=>t[1]||(t[1]=[C(" 首页 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(B))]),_:1})]),_:1}),o(l,{index:"accounts"},{title:c(()=>[o(a,null,{default:c(()=>[o(m(w))]),_:1}),t[2]||(t[2]=d("span",null,"账号管理",-1))]),default:c(()=>[o(s,{index:"/accounts"},{title:c(()=>t[3]||(t[3]=[C(" 账号列表 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(L))]),_:1})]),_:1}),o(s,{index:"/accounts/create"},{title:c(()=>t[4]||(t[4]=[C(" 添加账号 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(S))]),_:1})]),_:1}),o(s,{index:"/accounts/settings"},{title:c(()=>t[5]||(t[5]=[C(" 账号配置 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(k))]),_:1})]),_:1})]),_:1}),o(l,{index:"messages"},{title:c(()=>[o(a,null,{default:c(()=>[o(m(K))]),_:1}),t[6]||(t[6]=d("span",null,"消息管理",-1))]),default:c(()=>[o(s,{index:"/messages"},{title:c(()=>t[7]||(t[7]=[C(" 消息记录 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(L))]),_:1})]),_:1}),o(s,{index:"/messages/send"},{title:c(()=>t[8]||(t[8]=[C(" 发送消息 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(q))]),_:1})]),_:1}),o(s,{index:"/messages/templates"},{title:c(()=>t[9]||(t[9]=[C(" 消息模板 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(E))]),_:1})]),_:1}),o(s,{index:"/messages/statistics"},{title:c(()=>t[10]||(t[10]=[C(" 发送统计 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(F))]),_:1})]),_:1})]),_:1}),o(l,{index:"monitor"},{title:c(()=>[o(a,null,{default:c(()=>[o(m(Y))]),_:1}),t[11]||(t[11]=d("span",null,"监控中心",-1))]),default:c(()=>[o(s,{index:"/monitor/dashboard"},{title:c(()=>t[12]||(t[12]=[C(" 监控面板 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(T))]),_:1})]),_:1}),o(s,{index:"/monitor/logs"},{title:c(()=>t[13]||(t[13]=[C(" 系统日志 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(U))]),_:1})]),_:1}),o(s,{index:"/monitor/alerts"},{title:c(()=>t[14]||(t[14]=[C(" 告警管理 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(x))]),_:1})]),_:1}),o(s,{index:"/monitor/performance"},{title:c(()=>t[15]||(t[15]=[C(" 性能监控 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(F))]),_:1})]),_:1})]),_:1}),h.value?(r(),f(l,{key:0,index:"users"},{title:c(()=>[o(a,null,{default:c(()=>[o(m(I))]),_:1}),t[16]||(t[16]=d("span",null,"用户管理",-1))]),default:c(()=>[o(s,{index:"/users"},{title:c(()=>t[17]||(t[17]=[C(" 用户列表 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(L))]),_:1})]),_:1}),o(s,{index:"/users/roles"},{title:c(()=>t[18]||(t[18]=[C(" 角色管理 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m($))]),_:1})]),_:1}),o(s,{index:"/users/permissions"},{title:c(()=>t[19]||(t[19]=[C(" 权限管理 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(D))]),_:1})]),_:1})]),_:1})):A("",!0),h.value?(r(),f(l,{key:1,index:"settings"},{title:c(()=>[o(a,null,{default:c(()=>[o(m(k))]),_:1}),t[20]||(t[20]=d("span",null,"系统设置",-1))]),default:c(()=>[o(s,{index:"/settings/general"},{title:c(()=>t[21]||(t[21]=[C(" 基础设置 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(H))]),_:1})]),_:1}),o(s,{index:"/settings/security"},{title:c(()=>t[22]||(t[22]=[C(" 安全设置 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(D))]),_:1})]),_:1}),o(s,{index:"/settings/backup"},{title:c(()=>t[23]||(t[23]=[C(" 备份管理 ",-1)])),default:c(()=>[o(a,null,{default:c(()=>[o(m(M))]),_:1})]),_:1})]),_:1})):A("",!0)]),_:1},8,["default-active","collapse"])])}}}),[["__scopeId","data-v-7a04b77e"]]),fe={class:"app-layout"},me=Z(e({__name:"index",setup(e){const t=R(),{sidebarOpened:a}=s(t),l=n(()=>a.value?"250px":"64px");return(e,t)=>{const a=u("el-aside"),s=u("el-header"),n=u("router-view"),d=u("el-main"),m=u("el-container");return r(),i("div",fe,[o(m,null,{default:c(()=>[o(a,{width:l.value,class:"sidebar"},{default:c(()=>[o(ce)]),_:1},8,["width"]),o(m,null,{default:c(()=>[o(s,{height:"60px",class:"header"},{default:c(()=>[o(ie)]),_:1}),o(d,{class:"main-content"},{default:c(()=>[o(n,null,{default:c(({Component:e})=>[o(N,{name:"fade-transform",mode:"out-in"},{default:c(()=>[(r(),f(Q(e)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})])}}}),[["__scopeId","data-v-c7c51ffc"]]);export{me as default};
